"0","raw_allergen <- read.xlsx(""CAARS_Allergen_deID.xlsx"", rowNames = T)"
"0","allergen <- raw_allergen[complete.cases(raw_allergen), ] %>% data.frame()"
"0","allergen$Cat.Epithelium..IgE..CATE. <- as.numeric(allergen$Cat.Epithelium..IgE..CATE.)"
"0",""
"0","imch <- match(rownames(asthma.patient$clr_otu), rownames(allergen)) %>% na.omit()"
"0","allerg <- allergen[imch, ]"
"0","otu_alg <- clr_otu[rownames(allerg), ] #53 common samples"
"0","rownames(allerg) == rownames(otu_alg)"
"1"," [1]"
"1"," TRUE"
"1"," TRUE"
"1"," TRUE"
"1"," TRUE"
"1"," TRUE"
"1"," TRUE"
"1"," TRUE"
"1"," TRUE"
"1"," TRUE"
"1","
"
"1","[10]"
"1"," TRUE"
"1"," TRUE"
"1"," TRUE"
"1"," TRUE"
"1"," TRUE"
"1"," TRUE"
"1"," TRUE"
"1"," TRUE"
"1"," TRUE"
"1","
"
"1","[19]"
"1"," TRUE"
"1"," TRUE"
"1"," TRUE"
"1"," TRUE"
"1"," TRUE"
"1"," TRUE"
"1"," TRUE"
"1"," TRUE"
"1"," TRUE"
"1","
"
"1","[28]"
"1"," TRUE"
"1"," TRUE"
"1"," TRUE"
"1"," TRUE"
"1"," TRUE"
"1"," TRUE"
"1"," TRUE"
"1"," TRUE"
"1"," TRUE"
"1","
"
"1","[37]"
"1"," TRUE"
"1"," TRUE"
"1"," TRUE"
"1"," TRUE"
"1"," TRUE"
"1"," TRUE"
"1"," TRUE"
"1"," TRUE"
"1"," TRUE"
"1","
"
"1","[46]"
"1"," TRUE"
"1"," TRUE"
"1"," TRUE"
"1"," TRUE"
"1"," TRUE"
"1"," TRUE"
"1"," TRUE"
"1"," TRUE"
"1","
"
"0","allergen_num <- as.data.frame(allerg != 0)"
"0","Number_alg <- apply(allergen_num, 1, sum)"
"0","is_alg <- apply(allergen_num, 1, function(x){ "
"0","  all(x == 0)})"
"0","allergen_1 <- cbind(alg = !is_alg, Number.alg = Number_alg, allerg)"
"0",""
"0","asthma.patient$clr_otu_alg <- otu_alg"
"0","asthma.patient$allergy <- allergen_1"
"0","asthma.patient$clinic_alg <-  asthma.patient$clinic[rownames(asthma.patient$otu_alg), ]"
"0","asthma.patient$nutrition_alg <-  asthma.patient$nutrition_num[rownames(asthma.patient$otu_alg), ]"
